(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(1299)}])},1299:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return er}});var a=n(5893),i=n(9008),r=n.n(i),o=n(797),l=n(2095),d=n.n(l),s=n(8079),c=n.n(s),u=n(7294),p=n(1041),f=n.n(p),g=n(5877),x=n(3284),h=n.n(x);function _(e){var t=e.text;return(0,a.jsx)("div",{className:h().tooltipContainer,children:(0,a.jsx)("p",{className:h().tooltipText,onClick:function(e){return e.stopPropagation()},children:t})})}var m=n(7801),v=n.n(m);function C(e){var t=e.gridEditElement,n=e.submitAction,i=e.cancelAction,r=e.textValue,o=e.colWidth,l=(0,u.useState)(!0),d=l[0],s=l[1],c=(0,u.useState)(!1),p=c[0],f=c[1],g=function(e){e.stopPropagation(),n&&s(!1)},x=function(e){27===e.keyCode&&(s(!0),i&&i())},h=function(e){e.preventDefault(),s(!0),n()},m=function(e){var t=e.target;t.offsetHeight<t.scrollHeight&&f(!0),t.parentNode.addEventListener("mouseleave",function(){return f(!1)},{once:!0})},C={width:o||"150px"},j=(0,a.jsxs)("div",{className:v().gridCellContainer,style:C,onClick:g,children:[(0,a.jsx)("p",{className:v().displayText,onMouseOver:m,children:r}),p&&(0,a.jsx)(_,{text:r})]}),T=function(e){h(e)},D=(0,a.jsx)("div",{className:"".concat(v().gridCellContainer," ").concat(v().gridEditMode),style:C,onClick:T,children:(0,a.jsx)("form",{onKeyDown:x,onSubmit:h,onClick:function(e){return e.stopPropagation()},children:t})});return d?j:D}function j(e){var t=e.fieldData,n=e.order,i=e.dragStart,r=e.dragEnter,o=e.dragDrop,l=e.dragEnd,d=e.isDragging,s=e.dragActive,c=e.sortByField,p=e.isSorting,x=e.updateActiveSort,h=(0,u.useState)(void 0),_=h[0],m=h[1],v=function(){c(t.name,_),m(!_),x(t.name)};(0,u.useEffect)(function(){p||m(void 0)},[p]),(0,u.useEffect)(function(){p&&v()},[]);var j=function(e){i(n),e.dataTransfer.effectAllowed="move"},T=function(e){o(e,n)},D=function(e){e.preventDefault(),r(n)},w=function(){l()};return(0,a.jsxs)("div",{className:f().headerCell,onDragStart:j,onDragOver:s?D:null,onDrop:s?T:null,onDragEnd:s?w:null,draggable:!0,children:[(0,a.jsx)(C,{textValue:t.label,colWidth:t.colWidth}),(0,a.jsx)("button",{className:"".concat(f().sortButton," ").concat(p&&f().highlightButton," ").concat(_&&f().flipButton),onClick:v,children:(0,a.jsx)(g.Z,{fontSize:"small"})}),d&&(0,a.jsx)("span",{className:f().isDragging}),s&&(0,a.jsx)("span",{className:f().dragTarget})]})}var T=n(6540),D=n(4898),w=n.n(D);function y(e){var t=e.children;return(0,a.jsx)("div",{className:w().dropdownContainer,children:t})}var b=n(8998),F=n.n(b);function S(e){var t=e.headerData,n=e.setHeaderData,i=(0,u.useRef)(),r=function(e){var a=t.findIndex(function(t){return t.name===e}),r=(0,o.Z)(t),l=r.splice(a,1)[0];l.display=!0,r.splice(a,0,l),n(r),setTimeout(function(){i.current.scrollIntoView({behavior:"smooth",block:"end",inline:"start"})},200)},l=t.filter(function(e){return!e.display}).map(function(e){return(0,a.jsx)("div",{className:F().option,onClick:function(){return r(e.name)},children:(0,a.jsx)("p",{children:e.label})},e.name)});return(0,a.jsx)(y,{children:(0,a.jsx)("div",{className:F().optionsContainer,ref:i,children:l.length>0?l:(0,a.jsx)("p",{children:"No options available"})})})}function N(e){var t=e.headerData,n=e.setHeaderData,i=e.sortByField,r=(0,u.useState)(t),l=r[0],d=r[1],s=(0,u.useState)(),p=s[0],f=s[1],g=(0,u.useState)(!1),x=g[0],h=g[1],_=(0,u.useState)(),m=_[0],v=_[1],C=(0,u.useState)(!1),D=C[0],w=C[1],y=function(e){f(e),h(!0)},b=function(e){if(p!==e){var a=(0,o.Z)(t),i=a.splice(p,1)[0];a.splice(e,0,i),f(e),n(a)}},F=function(){f(),d(t),h(!1)},N=function(){p&&(n(l),f())},E=function(e){v(e)},G=function(){w(!D)},W=function(e){n((0,o.Z)(t).splice(e,1))},R=t.filter(function(e){return e.display}).map(function(e,t){return(0,a.jsx)(j,{fieldData:e,order:t,dragStart:y,dragEnter:b,dragDrop:F,dragEnd:N,isDragging:p===t,dragActive:x,sortByField:i,isSorting:m===e.name,updateActiveSort:E,deleteColumn:W},e.name)});return(0,a.jsxs)("div",{className:c().headerRow,children:[R,(0,a.jsxs)("div",{className:c().dropdownWrapper,children:[(0,a.jsx)("button",{className:c().addColButton,onClick:G,children:(0,a.jsx)(T.Z,{})}),D?(0,a.jsx)(S,{headerData:t,setHeaderData:n}):null]})]})}var E=n(4924),G=n(6042),W=n(9396),R=n(6060),A=n.n(R),H=n(2610);function k(e){var t=e.gridCells,n=e.order,i=e.startDragController,r=e.dragOverController,o=e.dragDropController,l=e.dragEndController,d=e.isDragging,s=e.dragActive,c=function(e){var t=new Image;i(n),e.dataTransfer.setDragImage(t,0,0),e.dataTransfer.effectAllowed="move"},u=function(e){e.preventDefault(),r(n)},p=function(){o()},f=function(){l()};return(0,a.jsxs)("div",{className:"".concat(A().gridRow," ").concat(d&&A().isDragging),onDrop:s?p:null,onDragOver:s?u:null,children:[(0,a.jsx)("button",{className:"".concat(A().dragButton," ").concat(A().hideButton),onDragStart:c,onDragEnd:s?f:null,draggable:!0,children:(0,a.jsx)(H.Z,{})}),t,d&&(0,a.jsx)("span",{className:A().dragging})]})}var Z=n(5433),B=n.n(Z);function I(e){var t=e.initialGridValue,n=e.fieldData,i=e.updateGridData,r=e.options,o=(0,u.useState)(t),l=o[0],d=o[1],s=function(){i(n.objID,n.fieldName,l)},c=function(e){console.log(e.target.value),d(e.target.value),e.target.parentNode.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))},p=r.map(function(e){return(0,a.jsx)("option",{value:e,disabled:e===l,children:e},e)}),f=(0,a.jsx)("select",{onChange:c,autoFocus:!0,children:p});return(0,a.jsx)("div",{className:B().picklistCell,children:(0,a.jsx)(C,{gridEditElement:f,submitAction:s,textValue:l,colWidth:n.colWidth})})}var O=n(6392),V=n.n(O);function P(e){var t=e.initialGridValue,n=e.updateGridData,i=e.fieldData,r=(0,u.useState)("Test"),o=r[0],l=r[1],d=(0,u.useState)(t),s=d[0],c=d[1],p=function(){n(i.objID,i.fieldName,s),l(s)},f=function(e){c(e.target.value)};return(0,a.jsx)("div",{className:V().textCell,children:(0,a.jsx)(C,{gridEditElement:(0,a.jsx)("input",{value:s,onChange:f,autoFocus:!0}),cancelAction:function(){return c(o)},submitAction:p,textValue:s,colWidth:i.colWidth})})}var L=n(4903),M=n.n(L),Y=n(9653),z=n.n(Y);function X(e){var t=e.gridDataModel,n=(0,u.useState)({}),i=n[0],r=n[1],o=(0,u.useState)(!1),l=o[0],d=o[1],s=function(){d(!0)},c=function(){d(!1)},p=function(e){e.preventDefault(),console.log(i)},f=function(e){r((0,W.Z)((0,G.Z)({},i),(0,E.Z)({},e.target.id,e.target.value)))},g=t.map(function(e){return(0,a.jsxs)("div",{className:z().formInput,children:[(0,a.jsx)("label",{htmlFor:e.name,children:e.label}),(0,a.jsx)("input",{type:"text",id:e.name,value:i.field,onChange:f})]},e.name)});return(0,a.jsxs)("div",{className:z().gridAddRowContainer,children:[(0,a.jsx)("button",{className:z().addRowButton,onClick:s,children:(0,a.jsx)(T.Z,{})}),l&&(0,a.jsx)("div",{className:z().dialogContainer,onClick:c,children:(0,a.jsx)("div",{className:z().dialogContent,onClick:function(e){return e.stopPropagation()},children:(0,a.jsxs)("form",{className:z().formContainer,onSubmit:p,children:[g,(0,a.jsx)("button",{className:z().formSubmit,children:"Submit"})]})})})]})}var K=[{label:"ID",name:"id",colWidth:"200px",display:!0},{label:"Test One",name:"testFieldOne",dataType:"text",colWidth:"200px",display:!0},{label:"Test Two",name:"testFieldTwo",dataType:"picklist",picklist:["option one","option two","option three","option four"],colWidth:"300px",display:!0},{label:"Test Three",name:"testFieldThree",dataType:"text",colWidth:"250px",display:!0},{label:"Test Four",name:"testFieldFour",dataType:"text",colWidth:"250px",display:!0},{label:"Test Five",name:"testFieldFive",dataType:"text",colWidth:"250px",display:!0},{label:"Test Six",name:"testFieldSix",dataType:"text",colWidth:"250px",display:!1},{label:"Test Seven",name:"testFieldSeven",dataType:"text",colWidth:"250px",display:!1},{label:"Test Eight",name:"testFieldEight",dataType:"text",colWidth:"250px",display:!1}],Q=n(940);function U(e){var t=e.headerData,n=e.rowData,i=e.objData,r=e.setRowData,l=(0,u.useState)(i.slice(29)),d=l[0],s=l[1],c=(0,u.useState)(),p=c[0],f=c[1],g=(0,u.useState)((0,o.Z)(n)),x=g[0],h=g[1],_=(0,u.useState)(!1),m=_[0],v=_[1],j=(0,u.useState)(!1),T=j[0],D=j[1],w=(0,u.useRef)(),y=(0,u.useRef)(),b=function(e,t,a){var i=n.findIndex(function(t){return t.id===e});r((0,o.Z)(n.slice(0,i)).concat([(0,W.Z)((0,G.Z)({},n[i]),(0,E.Z)({},t,(0,W.Z)((0,G.Z)({},n[i][t]),{value:a})))],(0,o.Z)(n.slice(i+1))))},F=function(e){f(e),v(!0)},S=function(e){if(p!==e){var t=(0,o.Z)(n),a=t.splice(p,1)[0];t.splice(e,0,a),f(e),r(t)}},N=function(e){S(e)},R=function(){f(),h(n)},A=function(){v(!1),void 0!==f&&(f(),r(x))};(0,u.useEffect)(function(){if(0!==d.length){var e=w.current.lastChild,t=function(e){e[0].isIntersecting&&(D(!0),setTimeout(function(){d.length>29?(r((0,o.Z)(n).concat((0,o.Z)(d.slice(0,29)))),s(d.slice(29))):(r((0,o.Z)(n).concat((0,o.Z)(d))),s([])),D(!1)},2e3))},a=new IntersectionObserver(t,{root:null,rootMargin:"5px",threshold:.02});return a.observe(e),function(){return a.unobserve(e)}}},[d]);var H=n?n.map(function(e,n){var i=t.filter(function(e){return e.display}).map(function(t){if(t.display){if(!e[t.name])return(0,a.jsx)(C,{colWidth:t.colWidth},"".concat(t.name,"_").concat(e.id));switch(!0){case"id"===t.name:return(0,a.jsx)(C,{textValue:e.id,colWidth:t.colWidth},"".concat(t.name,"_").concat(e.id));case"picklist"===t.dataType:return(0,a.jsx)(I,{initialGridValue:e[t.name].value,fieldData:{objID:e.id,fieldName:t.name,colWidth:t.colWidth},updateGridData:b,options:e[t.name].options},"".concat(t.name,"_").concat(e.id));case"text"===t.dataType:return(0,a.jsx)(P,{initialGridValue:e[t.name].value,fieldData:{objID:e.id,fieldName:t.name,colWidth:t.colWidth},updateGridData:b},"".concat(t.name,"_").concat(e.id));default:return(0,a.jsx)(C,{textValue:e[t.name].value})}}});return(0,a.jsx)(k,{gridCells:i,startDragController:F,dragOverController:N,dragDropController:R,dragEndController:A,moveRow:S,order:n,isDragging:n===p,dragActive:m},e.id)}):null;return(0,a.jsxs)("div",{className:M().gridRowController,children:[(0,a.jsx)("div",{className:M().gridRows,ref:w,children:H}),(0,a.jsx)(X,{gridDataModel:K}),T&&(0,a.jsx)("div",{className:M().loadingBanner,ref:y,children:(0,a.jsx)(Q.Z,{fontSize:"large"})})]})}function J(e){var t=e.colData,n=e.objData,i=(0,u.useState)(t),r=i[0],l=i[1],s=(0,u.useState)(n.slice(0,29)),c=s[0],p=s[1];(0,u.useEffect)(function(){},[]);var f=function(e,t){p((0,o.Z)(c.sort(function(n,a){if(!n[e])return 1;if(!a[e])return -1;var i="id"===e?n.id:n[e].value,r="id"===e?a.id:a[e].value;return i===r?0:t?i<r?1:-1:i>r?1:-1})))};return(0,a.jsx)("div",{className:d().gridContainer,children:(0,a.jsxs)("div",{className:d().grid,children:[(0,a.jsx)(N,{headerData:r,setHeaderData:l,sortByField:f}),(0,a.jsx)(U,{rowData:c,objData:n,setRowData:p,headerData:r})]})})}var q=n(5897),$=n.n(q);function ee(){var e=(0,u.useRef)(0),t=(0,u.useRef)();return(0,u.useEffect)(function(){var n,a=function(){0===window.scrollY&&(n=!1),n||(window.scrollY>e.current&&window.scrollY>0?t.current.classList.add($().hide):window.scrollY<e.current&&t.current.classList.remove($().hide),e.current=window.scrollY,n=!0,setTimeout(function(){return n=!1},300))};return setTimeout(function(){return document.addEventListener("scroll",a)},500),function(){document.removeEventListener("scroll",a)}},[]),(0,a.jsx)("header",{className:$().header,ref:t,children:(0,a.jsx)("h1",{children:"Grid"})})}var et=n(1673),en=n.n(et),ea=[{label:"ID",name:"id",colWidth:"100px",display:!0},{label:"Test One",name:"testFieldOne",dataType:"text",colWidth:"200px",display:!0},{label:"Test Two",name:"testFieldTwo",dataType:"picklist",colWidth:"200px",display:!0},{label:"Test Three",name:"testFieldThree",dataType:"text",colWidth:"200px",display:!0},{label:"Test Four",name:"testFieldFour",dataType:"text",colWidth:"200px",display:!0},{label:"Test Five",name:"testFieldFive",dataType:"text",colWidth:"200px",display:!0},{label:"Test Six",name:"testFieldSix",dataType:"text",colWidth:"200px",display:!1},{label:"Test Seven",name:"testFieldSeven",dataType:"text",colWidth:"200px",display:!1},{label:"Test Eight",name:"testFieldEight",dataType:"text",colWidth:"200px",display:!1}],ei=function(e){for(var t=[],n=0;n<e;n++)t.push({id:n+1,testFieldOne:{value:"Field One ".concat(n),dataType:"text"},testFieldTwo:{value:"Field Two ".concat(n),dataType:"picklist",options:["Not a Test","Test 1-2","Picklist Stuff","Hello World"]},testFieldThree:{value:"Field Three ".concat(n),dataType:"text"},testFieldFour:{value:"Field Four ".concat(n),dataType:"text"},testFieldFive:{value:"Field Five ".concat(n),dataType:"text"},testFieldSix:{value:"Field Six ".concat(n),dataType:"text"},testFieldSeven:{value:"Field Seven ".concat(n),dataType:"text"},testFieldEight:{value:"Field Eight ".concat(n),dataType:"text"}});return t};function er(){return(0,a.jsxs)("div",{className:en().container,children:[(0,a.jsxs)(r(),{children:[(0,a.jsx)("title",{children:"Grid"}),(0,a.jsx)("meta",{name:"description",content:"Grid App"}),(0,a.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,a.jsx)(ee,{}),(0,a.jsx)("main",{className:en().main,children:(0,a.jsx)(J,{colData:ea,objData:ei(100)})}),(0,a.jsx)("footer",{className:en().footer,children:(0,a.jsx)("p",{children:"Footer Stuff Here"})})]})}},4898:function(e){e.exports={dropdownContainer:"Dropdown_dropdownContainer__cL8Am"}},2095:function(e){e.exports={gridContainer:"Grid_gridContainer__6a3W6",grid:"Grid_grid__dSAVC"}},9653:function(e){e.exports={dialogContainer:"GridAddRowDialog_dialogContainer__rZuQT",dialogContent:"GridAddRowDialog_dialogContent__jX2Fx",formContainer:"GridAddRowDialog_formContainer__ybIMS",formInput:"GridAddRowDialog_formInput__aJoSL",formSubmit:"GridAddRowDialog_formSubmit__ZD_dr"}},7801:function(e){e.exports={gridCellContainer:"GridCell_gridCellContainer__I7R3s",displayText:"GridCell_displayText__RIVmT",gridEditMode:"GridCell_gridEditMode__UPxNZ"}},8079:function(e){e.exports={headerRow:"GridHeader_headerRow__Hswbi",addColButton:"GridHeader_addColButton__EvgPy",dropdownWrapper:"GridHeader_dropdownWrapper__Y39Bz",dragActive:"GridHeader_dragActive__vESsm"}},8998:function(e){e.exports={optionsContainer:"GridHeaderAddColDropdown_optionsContainer__FDD_v",option:"GridHeaderAddColDropdown_option___K8Gr"}},6060:function(e){e.exports={gridRow:"GridRow_gridRow__ERzcx",dragButton:"GridRow_dragButton__1U3pe",dragging:"GridRow_dragging__G5LYt",isDragging:"GridRow_isDragging__HdKC7"}},4903:function(e){e.exports={gridRowController:"GridRowController_gridRowController__QKHAO",loadingBanner:"GridRowController_loadingBanner__vOttv",hourglassAnimation:"GridRowController_hourglassAnimation__lfJ_7"}},1041:function(e){e.exports={headerCell:"HeaderCell_headerCell__9VVDj",sortButton:"HeaderCell_sortButton__hIX5s",flipButton:"HeaderCell_flipButton__4kHeM",highlightButton:"HeaderCell_highlightButton__VU3s7",isDragging:"HeaderCell_isDragging__ttCLA",dragTarget:"HeaderCell_dragTarget__veniN"}},5433:function(e){e.exports={picklistCell:"PicklistGridCell_picklistCell__2G7kX"}},6392:function(e){e.exports={textCell:"TextGridCell_textCell__Np7a6"}},5897:function(e){e.exports={header:"Header_header__Z8PUO",fadeIn:"Header_fadeIn__vQn66",hide:"Header_hide__syVsa",fadeOut:"Header_fadeOut__0lnIQ"}},3284:function(e){e.exports={tooltipContainer:"Tooltip_tooltipContainer__e05oa",tooltipText:"Tooltip_tooltipText__exuTC"}},1673:function(e){e.exports={container:"Home_container__97eC3",footer:"Home_footer__zed0_"}}},function(e){e.O(0,[418,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);